# Plan: テスト実装

## フェーズ 1: ユニットテスト環境のセットアップと基盤テスト [checkpoint: bd0e260]

- [x] Task: ユニットテストフレームワーク（Vitest）のインストールと設定 (9b66857)
    - [ ] `pnpm add -D vitest @vitest/coverage-v8 jsdom` を実行し、必要なパッケージをインストールする。
    - [ ] `vite.config.ts` または `vitest.config.ts` にテスト設定を追加し、テストファイルの検出パターン、環境 (`jsdom`)、カバレッジ計測設定を行う。
- [x] Task: ロジック層のユニットテストの記述 (e7f391a)
    - [ ] 既存のファイル操作ロジックなど、UIに依存しないコアロジックに対してユニットテストを記述する。
    - [ ] BDDスタイルでテストケースを記述し、各テストが特定の仕様を検証することを明確にする。
    - [ ] テスト実行とカバレッジレポートの生成を確認する。
- [x] Task: Conductor - User Manual Verification 'ユニットテスト環境のセットアップと基盤テスト' (Protocol in workflow.md)

## フェーズ 2: E2Eテスト環境のセットアップと基本的なUIテスト

- [ ] Task: E2Eテストフレームワーク（Playwright）のインストールと設定
    - [ ] `pnpm add -D playwright @playwright/test` を実行し、必要なパッケージをインストールする。
    - [ ] `playwright.config.ts` を作成し、E2Eテストの実行環境を設定する。
- [ ] Task: E2Eテストの記述（アプリケーション起動と初期UI表示）
    - [ ] アプリケーションが正しく起動し、主要なUI要素（メニューバー、エディタ、ステータスバー）が表示されることを検証するE2Eテストを記述する。
    - [ ] UIの一貫性（例: Tailwind CSSが適用されていること）もテストに含める。
- [ ] Task: Conductor - User Manual Verification 'E2Eテスト環境のセットアップと基本的なUIテスト' (Protocol in workflow.md)

## フェーズ 3: TDDに基づいたテストの拡充とカバレッジ目標達成

- [ ] Task: TDDサイクルを用いた新規UIコンポーネントのテスト実装
    - [ ] 今後実装されるUIコンポーネント（例: ファイル選択ダイアログの表示、テキスト入力）に対し、TDDサイクル（Red-Green-Refactor）に従いユニットテストを記述する。
    - [ ] 既存のUIコンポーネントが抽出された場合、それらにもユニットテストを適用する。
- [ ] Task: E2Eテストによるファイル操作の検証
    - [ ] ファイルの開く、新規作成、保存といったユーザーフロー全体をカバーするE2Eテストを記述する。
    - [ ] ロジックの実装によって追加された機能（例: 保存確認ダイアログ）もE2Eテストで検証する。
- [ ] Task: コードカバレッジの分析と改善
    - [ ] 全体のコードカバレッジが90%に達しているか確認し、不足している部分があれば追加でテストを記述してカバレッジを向上させる。
    - [ ] 重要なビジネスロジックやUIパスが重点的にカバーされていることを確認する。
- [ ] Task: Conductor - User Manual Verification 'TDDに基づいたテストの拡充とカバレッジ目標達成' (Protocol in workflow.md)
